const projetos=[{id:"clube-leitura",titulo:"Clube da Leitura",imagem:"imagens/projeto-leitura.webp",alt:"Volunt\xe1ria lendo um livro em voz alta para um grupo de idosos atentos.",descricao:"Sess\xf5es semanais de leitura em voz alta, trazendo os mundos da literatura para quem tem dificuldade de ler.",tag:"Leitura",tagClasse:"tag-leitura",frequencia:"Todas as ter\xe7as-feiras, 14h",local:"Casas de repouso parceiras (Zona Leste)",objetivo:"Estimular a imagina\xe7\xe3o e combater a solid\xe3o."},{id:"tardes-jogos",titulo:"Tardes de Jogos",imagem:"imagens/projeto-jogos.webp",alt:"Um senhor e uma jovem sorrindo enquanto jogam uma partida de xadrez.",descricao:"Estimulamos a mente e a intera\xe7\xe3o social com jogos de tabuleiro como xadrez, damas e baralho. A competi\xe7\xe3o \xe9 amig\xe1vel!",tag:"Jogos",tagClasse:"tag-jogos",frequencia:"Quinzenalmente, \xe0s quintas-feiras, 15h",local:"Centro Comunit\xe1rio Vila Esperan\xe7a",objetivo:"Exercitar a cogni\xe7\xe3o e promover novas amizades."}];function gerarCardsProjeto(){let e=document.getElementById("lista-de-projetos");e&&(e.innerHTML="",projetos.forEach(a=>{let t=`
            <article class="projeto-card" id="${a.id}"> 
                <img src="${a.imagem}" alt="${a.alt}">
                <div class="projeto-card-conteudo">
                    <span class="tag ${a.tagClasse}">${a.tag}</span> 
                    <h2>${a.titulo}</h2>
                    <p>${a.descricao}</p>
                    <p class="detalhe-projeto"><strong>Frequ\xeancia:</strong> ${a.frequencia}</p>
                    <p class="detalhe-projeto"><strong>Local:</strong> ${a.local}</p>
                    <p class="detalhe-projeto"><strong>Objetivo:</strong> ${a.objetivo}</p>
                </div>
            </article>
        `;e.innerHTML+=t}))}function inicializarMenuHamburger(){let e=document.querySelector(".menu-hamburger"),a=document.querySelector("nav");e&&a&&e.addEventListener("click",function(){a.classList.toggle("menu-aberto")})}function inicializarModal(){let e=document.querySelectorAll("#abrir-modal-doacao, #abrir-modal-doacao-home"),a=document.getElementById("fechar-modal"),t=document.getElementById("modal-doacao");if(!t||0===e.length||!a)return;let i=null,o=e=>{i=e,t.classList.add("modal-aberto"),a.focus()},r=()=>{t.classList.remove("modal-aberto"),i&&i.focus()};e.forEach(e=>{e.addEventListener("click",()=>o(e))}),a.addEventListener("click",r),t.addEventListener("click",function(e){e.target===t&&r()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&t.classList.contains("modal-aberto")&&r()})}function inicializarMascaras(){if("undefined"!=typeof IMask){let e=document.getElementById("cpf"),a=document.getElementById("telefone"),t=document.getElementById("cep");e&&IMask(e,{mask:"000.000.000-00"}),a&&IMask(a,{mask:"(00) 00000-0000"}),t&&IMask(t,{mask:"00000-000"})}else console.warn("Biblioteca IMask n\xe3o encontrada. M\xe1scaras n\xe3o ser\xe3o aplicadas.")}function inicializarValidacaoFormulario(){let e=document.getElementById("form-cadastro");function a(e,a,t){e&&a&&(e.classList.add("erro-validacao"),a.textContent=t)}function t(e,a){e&&a&&(e.classList.remove("erro-validacao"),a.textContent="")}function i(e,i){let o=document.getElementById(e),r=o?o.nextElementSibling:null;return!o||!r||(""===o.value.trim()?(a(o,r,i),!1):(t(o,r),!0))}function o(e){let i=document.getElementById(e),o=i?i.nextElementSibling:null;return!i||!o||(""===i.value.trim()?(a(i,o,"E-mail \xe9 obrigat\xf3rio."),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.value)?(t(i,o),!0):(a(i,o,"Formato de e-mail inv\xe1lido."),!1))}function r(e){let i=document.getElementById(e),o=i?i.nextElementSibling:null;if(!i||!o)return!0;let r=i.value.replace(/\D/g,"");return""===i.value.trim()?(a(i,o,"CPF \xe9 obrigat\xf3rio."),!1):11===r.length&&/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(i.value)?(t(i,o),!0):(a(i,o,"Formato de CPF inv\xe1lido (use XXX.XXX.XXX-XX)."),!1)}e&&(e.addEventListener("submit",function(a){a.preventDefault();let t;(t=!0,i("nome","Nome Completo \xe9 obrigat\xf3rio.")||(t=!1),o("email")||(t=!1),r("cpf")||(t=!1),i("telefone","Telefone \xe9 obrigat\xf3rio.")||(t=!1),i("nascimento","Data de Nascimento \xe9 obrigat\xf3ria.")||(t=!1),i("cep","CEP \xe9 obrigat\xf3rio.")||(t=!1),i("endereco","Endere\xe7o \xe9 obrigat\xf3rio.")||(t=!1),i("cidade","Cidade \xe9 obrigat\xf3ria.")||(t=!1),i("estado","Estado \xe9 obrigat\xf3rio.")||(t=!1),t)?(alert("Cadastro enviado com sucesso! (Simula\xe7\xe3o)"),e.reset()):alert("Por favor, corrija os erros no formul\xe1rio.")}),["nome","email","cpf","telefone","nascimento","cep","endereco","cidade","estado"].forEach(e=>{let a=document.getElementById(e);a&&(a.addEventListener("blur",function(){"nome"===e?i(e,"Nome Completo \xe9 obrigat\xf3rio."):"email"===e?o(e):"cpf"===e?r(e):"telefone"===e?i(e,"Telefone \xe9 obrigat\xf3rio."):"nascimento"===e?i(e,"Data de Nascimento \xe9 obrigat\xf3ria."):"cep"===e?i(e,"CEP \xe9 obrigat\xf3rio."):"endereco"===e?i(e,"Endere\xe7o \xe9 obrigat\xf3rio."):"cidade"===e?i(e,"Cidade \xe9 obrigat\xf3ria."):"estado"===e&&i(e,"Estado \xe9 obrigat\xf3ria.")}),a.addEventListener("input",function(){t(a,a.nextElementSibling)}))}))}function inicializarSPA(){let e=document.querySelectorAll("nav ul li a"),a=document.querySelector("main");if(!a)return;let t=async e=>{try{a.classList.add("carregando");let t=await fetch(e);if(!t.ok)throw Error(`Erro ao carregar ${e}`);let i=await t.text(),o=new DOMParser,r=o.parseFromString(i,"text/html"),n=r.querySelector("main"),l=r.querySelector("title");n?(a.innerHTML=n.innerHTML,l&&(document.title=l.textContent),gerarCardsProjeto(),inicializarModal(),inicializarMascaras(),inicializarValidacaoFormulario(),inicializarRolagemSuave(),inicializarModoEscuro()):window.location.href=e}catch(s){console.error("Falha ao carregar a p\xe1gina via SPA:",s),window.location.href=e}finally{a.classList.remove("carregando")}};e.forEach(e=>{e.addEventListener("click",function(a){let i=e.getAttribute("href");!i||i.startsWith("http")||i.startsWith("#")||(a.preventDefault(),t(i),window.history.pushState({},"",i))})}),window.addEventListener("popstate",function(){let e=location.pathname.startsWith("/")?location.pathname.substring(1):location.pathname;t(e||"index.html")})}function inicializarRolagemSuave(){let e=document.getElementById("btn-rolar-doacao"),a=document.getElementById("como-doar");e&&a&&e.addEventListener("click",function(){a.scrollIntoView({behavior:"smooth"})})}function inicializarModoEscuro(){let e=document.getElementById("switch-tema");e&&e.addEventListener("change",function(){document.body.classList.toggle("modo-escuro")})}document.addEventListener("DOMContentLoaded",function(){inicializarMenuHamburger();{let e=document.querySelector(".menu-hamburger"),a=document.querySelector("#menu-principal");e&&a&&e.addEventListener("click",function(){a.classList.toggle("ativo");let t=a.classList.contains("menu-aberto");t?(e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label","Fechar menu")):(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Abrir menu"))})}inicializarSPA(),gerarCardsProjeto(),inicializarModal(),inicializarMascaras(),inicializarValidacaoFormulario(),inicializarRolagemSuave(),inicializarModoEscuro()});